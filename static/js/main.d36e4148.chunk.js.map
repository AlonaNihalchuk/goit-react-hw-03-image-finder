{"version":3,"sources":["components/Modal2/Modal2.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Modal2/Modal2.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","modalRoot","document","querySelector","Modal2","handleKeyDown","e","code","console","log","props","onClose","handleBackdropClick","target","currentTarget","window","addEventListener","this","removeEventListener","createPortal","className","styles","Overlay","onClick","Modal","src","bigImg","alt","pictureName","Component","defaultProps","Searchbar","state","handlePictureNameChange","setState","value","toLowerCase","handleSubmit","preventDefault","trim","onSubmit","alert","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","ImageGalleryItem","hit","largeImageURL","webformatURL","tags","ImageGalleryItemImage","ImageGallery","picture","error","hits","map","id","message","Button","App","loading","showModal","largeImg","page","showButton","toggleModal","handlePictureNameSubmit","loadMore","prevState","prevProps","fetch","then","response","ok","json","Promise","reject","Error","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","phonebook","color","height","width","timeout","React","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d36e4148.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal2_Overlay__3DiSG\",\"Modal\":\"Modal2_Modal__2mY2K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1pY-e\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__14QWx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"phonebook\":\"App_phonebook__LtbV0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__12TaB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3wWGz\"};","import React, { Component } from \"react\";\nimport styles from \"./Modal2.module.css\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default class Modal2 extends Component {\n  static defaultProps = { pictureName: null, bigImg: null };\n\n  static propTypes = {\n    onClick: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired,\n    pictureName: PropTypes.string,\n    bigImg: PropTypes.string,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      console.log(e.code);\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.Modal}>\n          <img src={this.props.bigImg} alt={this.props.pictureName} />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport styles from \"./Searchbar.module.css\";\nimport PropTypes from \"prop-types\";\n\nclass Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    pictureName: \"\",\n  };\n\n  handlePictureNameChange = (e) => {\n    this.setState({\n      pictureName: e.currentTarget.value.toLowerCase(),\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (this.state.pictureName.trim() === \"\") {\n      alert(\"введите слово\");\n      return;\n    }\n    this.props.onSubmit(this.state.pictureName);\n    this.setState({ pictureName: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n          <input\n            onChange={this.handlePictureNameChange}\n            className={styles.SearchFormInput}\n            value={this.state.pictureName}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\nexport default Searchbar;\n","import React, { Component } from \"react\";\nimport styles from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nclass ImageGalleryItem extends Component {\n  static defaultProps = { webformatURL: null, tags: null };\n\n  static propTypes = {\n    onClick: PropTypes.func.isRequired,\n    webformatURL: PropTypes.string,\n    tags: PropTypes.string,\n  };\n\n  render() {\n    const { largeImageURL, webformatURL, tags } = this.props.hit;\n    return (\n      <li\n        className={styles.ImageGalleryItem}\n        onClick={() => this.props.onClick(largeImageURL)}\n      >\n        <img\n          src={webformatURL}\n          alt={tags}\n          className={styles.ImageGalleryItemImage}\n        />\n      </li>\n    );\n  }\n}\nexport default ImageGalleryItem;\n","import styles from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGallery = ({ picture, onClick, error }) => {\n  return (\n    <>\n      <ul className={styles.ImageGallery}>\n        {picture &&\n          picture.hits.map((hit) => (\n            <ImageGalleryItem hit={hit} key={hit.id} onClick={onClick} />\n          ))}\n      </ul>\n      {error && <p>{error.message}</p>}\n    </>\n  );\n};\n\n// IconButton.defaultProps = {\n//   onClick: () => null,\n//   children: null,\n// };\n\n// IconButton.propTypes = {\n//   onClick: PropTypes.func,\n//   children: PropTypes.node,\n//   \"aria-label\": PropTypes.string.isRequired,\n// };\n\nImageGallery.defaultProps = {\n  picture: null,\n  error: null,\n  hit: null,\n  id: null,\n};\n\nImageGallery.propTypes = {\n  onClick: PropTypes.func.isRequired,\n\n  picture: PropTypes.object,\n  hit: PropTypes.object,\n  id: PropTypes.number,\n  error: PropTypes.string,\n};\n\nexport default ImageGallery;\n","import styles from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" className={styles.Button} onClick={() => onClick()}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\nexport default Button;\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport styles from \"./App.module.css\";\nimport Modal2 from \"../Modal2/Modal2\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\n\nclass App extends React.Component {\n  state = {\n    picture: null,\n    error: null,\n    pictureName: \"\",\n    loading: false,\n    showModal: false,\n    largeImg: \"\",\n    page: 1,\n    showButton: false,\n  };\n\n  toggleModal = (largeImg) => {\n    this.setState({ largeImg: largeImg });\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const API_KEY = \"22623319-52f49cc6bb6df63b12d71d4de\";\n    const BASE_URL = \"https://pixabay.com/api/?\";\n    const { pictureName, page } = this.state;\n\n    if (pictureName !== prevState.pictureName || page !== prevState.page) {\n      this.setState({\n        loading: true,\n        picture: null,\n      });\n\n      fetch(\n        `${BASE_URL}q=${this.state.pictureName}&page=${this.state.page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n      )\n        .then((response) => {\n          if (response.ok) {\n            return response.json();\n          }\n          return Promise.reject(new Error(\"there is no such a picture\"));\n        })\n        .then((picture) => this.setState({ picture }))\n        .then(this.showButton())\n        .catch((error) => this.setState({ error }))\n        .finally(() => this.setState({ loading: false }));\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n\n  handlePictureNameSubmit = (pictureName) => {\n    this.setState({ pictureName });\n  };\n\n  loadMore = (e) => {\n    this.setState((prevState) => ({\n      page: prevState.page + 1,\n    }));\n    this.showButton();\n  };\n\n  showButton = () => {\n    this.setState(({ showButton }) => ({ showButton: !showButton }));\n  };\n\n  render() {\n    const {\n      picture,\n      error,\n      pictureName,\n      loading,\n      showButton,\n      showModal,\n      largeImg,\n    } = this.state;\n\n    return (\n      <section className={styles.phonebook}>\n        <Searchbar onSubmit={this.handlePictureNameSubmit} picture={picture} />\n        <ImageGallery\n          picture={picture}\n          error={error}\n          pictureName={pictureName}\n          onClick={this.toggleModal}\n        />\n        {loading && (\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000} //3 secs\n          />\n        )}\n        {showButton && <Button onClick={this.loadMore} />}\n        {showModal && (\n          <Modal2\n            onClose={this.toggleModal}\n            bigImg={largeImg}\n            pictureName={pictureName}\n          />\n        )}\n      </section>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__cPqOp\",\"SearchForm\":\"Searchbar_SearchForm__1PbR7\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2rviG\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3O3Ed\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3PfQE\"};"],"sourceRoot":""}