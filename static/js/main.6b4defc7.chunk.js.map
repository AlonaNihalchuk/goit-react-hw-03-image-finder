{"version":3,"sources":["components/Modal2/Modal2.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Modal2/Modal2.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","fetch/api-service.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","modalRoot","document","querySelector","Modal2","handleKeyDown","e","code","props","onClose","handleBackdropClick","target","currentTarget","window","addEventListener","this","removeEventListener","createPortal","className","styles","Overlay","onClick","Modal","src","bigImg","alt","pictureName","Component","defaultProps","Searchbar","state","handlePictureNameChange","setState","value","toLowerCase","handleSubmit","preventDefault","trim","onSubmit","alert","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","ImageGalleryItem","largeImageURL","webformatURL","tags","ImageGalleryItemImage","ImageGallery","hits","error","map","hit","id","message","Button","fetchPictures","page","fetch","then","response","ok","json","Promise","reject","Error","App","pictures","loading","showModal","largeImg","showButton","toggleModal","handlePictureNameSubmit","reset","loadMore","prevState","prevProps","picture","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","phonebook","color","height","width","timeout","React","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,wBAAwB,MAAQ,wB,mBCA5DD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,UAAY,yB,mBCA9BD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,sMCIrBC,EAAYC,SAASC,cAAc,eAEpBC,E,4MAkBnBC,cAAgB,SAACC,GACA,WAAXA,EAAEC,MACJ,EAAKC,MAAMC,W,EAIfC,oBAAsB,SAACJ,GACjBA,EAAEK,SAAWL,EAAEM,eACjB,EAAKJ,MAAMC,W,uDAhBf,WACEI,OAAOC,iBAAiB,UAAWC,KAAKV,iB,kCAG1C,WACEQ,OAAOG,oBAAoB,UAAWD,KAAKV,iB,oBAe7C,WACE,OAAOY,uBACL,qBAAKC,UAAWC,IAAOC,QAASC,QAASN,KAAKL,oBAA9C,SACE,qBAAKQ,UAAWC,IAAOG,MAAvB,SACE,qBAAKC,IAAKR,KAAKP,MAAMgB,OAAQC,IAAKV,KAAKP,MAAMkB,kBAGjDzB,O,GArC8B0B,aAAfvB,EACZwB,aAAe,CAAEF,YAAa,KAAMF,OAAQ,M,oBC0CtCK,E,4MAzCbC,MAAQ,CACNJ,YAAa,I,EAGfK,wBAA0B,SAACzB,GACzB,EAAK0B,SAAS,CACZN,YAAapB,EAAEM,cAAcqB,MAAMC,iB,EAIvCC,aAAe,SAAC7B,GACdA,EAAE8B,iBACoC,KAAlC,EAAKN,MAAMJ,YAAYW,QAI3B,EAAK7B,MAAM8B,SAAS,EAAKR,MAAMJ,aAC/B,EAAKM,SAAS,CAAEN,YAAa,MAJ3Ba,MAAM,8E,4CAOV,WACE,OACE,wBAAQrB,UAAWC,IAAOU,UAA1B,SACE,uBAAMX,UAAWC,IAAOqB,WAAYF,SAAUvB,KAAKoB,aAAnD,UACE,wBAAQM,KAAK,SAASvB,UAAWC,IAAOuB,iBAAxC,SACE,sBAAMxB,UAAWC,IAAOwB,sBAAxB,sBAEF,uBACEC,SAAU7B,KAAKgB,wBACfb,UAAWC,IAAO0B,gBAClBZ,MAAOlB,KAAKe,MAAMJ,YAClBe,KAAK,OACLK,aAAa,MACbC,WAAS,EACTC,YAAY,sC,GAvCArB,a,kCCwBTsB,E,4JAjBb,WAAU,IAAD,OACP,EAA8ClC,KAAKP,MAA3C0C,EAAR,EAAQA,cAAeC,EAAvB,EAAuBA,aAAcC,EAArC,EAAqCA,KAErC,OACE,oBACElC,UAAWC,IAAO8B,iBAClB5B,QAAS,kBAAM,EAAKb,MAAMa,QAAQ6B,IAFpC,SAIE,qBACE3B,IAAK4B,EACL1B,IAAK2B,EACLlC,UAAWC,IAAOkC,8B,GAlBG1B,aCAzB2B,EAAe,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,KAAMlC,EAAqB,EAArBA,QAASmC,EAAY,EAAZA,MACrC,OACE,qCACE,oBAAItC,UAAWC,IAAOmC,aAAtB,SACGC,GACCA,EAAKE,KAAI,SAACC,GAAD,OACP,cAAC,EAAD,CAEErC,QAASA,EACT8B,aAAcO,EAAIP,aAClBD,cAAeQ,EAAIR,cACnBE,KAAMM,EAAIN,MAJLM,EAAIC,SAQhBH,GAAS,4BAAIA,EAAMI,cAK1BN,EAAa1B,aAAe,CAC1B2B,KAAM,GACNC,MAAO,MAiBMF,Q,iBC7BAO,EAXA,SAAC,GAAiB,IAAfxC,EAAc,EAAdA,QAChB,OACE,wBAAQoB,KAAK,SAASvB,UAAWC,IAAO0C,OAAQxC,QAAS,kBAAMA,KAA/D,wBCSWyC,EAXO,SAACpC,EAAaqC,GAClC,OAAOC,MAAM,GAAD,OAHG,4BAGH,aACMtC,EADN,iBAC0BqC,EAD1B,gBAJE,qCAIF,yDAEVE,MAAK,SAACC,GACN,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAM,mCC2GrBC,E,4MA3Gb1C,MAAQ,CACN2C,SAAU,GACVjB,MAAO,KACP9B,YAAa,GACbgD,SAAS,EACTC,WAAW,EACXC,SAAU,GACVb,KAAM,EACNc,YAAY,G,EAGdC,YAAc,SAACF,GACb,EAAK5C,SAAS,CAAE4C,SAAUA,IAC1B,EAAK5C,UAAS,kBAAoB,CAAE2C,WAAtB,EAAGA,e,EA4BnBI,wBAA0B,SAACrD,GACzB,EAAKsD,QACL,EAAKhD,SAAS,CAAEN,iB,EAGlBsD,MAAQ,WACN,EAAKhD,SAAS,CAAE+B,KAAM,EAAGU,SAAU,M,EAGrCQ,SAAW,SAAC3E,GACV,EAAK0B,UAAS,SAACkD,GAAD,MAAgB,CAC5BnB,KAAMmB,EAAUnB,KAAO,MAEzB,EAAKc,c,EAGPA,WAAa,WACX,EAAK7C,UAAS,kBAAqB,CAAE6C,YAAvB,EAAGA,gB,wDA1CnB,SAAmBM,EAAWD,GAAY,IAAD,OACvC,EAA8BnE,KAAKe,MAA3BJ,EAAR,EAAQA,YAAaqC,EAArB,EAAqBA,KAEjBrC,IAAgBwD,EAAUxD,aAAeqC,IAASmB,EAAUnB,OAC9DhD,KAAKiB,SAAS,CACZ0C,SAAS,EACTU,QAAS,OAEXtB,EAAcpC,EAAaqC,GACxBE,MAAK,YAAe,IAAZV,EAAW,EAAXA,KACP,EAAKvB,UAAS,YAAmB,IAAhByC,EAAe,EAAfA,SACf,MAAO,CAAEA,SAAS,GAAD,mBAAMA,GAAN,YAAmBlB,WAGvCU,KAAKlD,KAAKiB,SAAS,CAAE6C,YAAY,KACjCQ,OAAM,SAAC7B,GAAD,OAAW,EAAKxB,SAAS,CAAEwB,aACjC8B,SAAQ,kBAAM,EAAKtD,SAAS,CAAE0C,SAAS,QAG5C7D,OAAO0E,SAAS,CACdC,IAAKtF,SAASuF,gBAAgBC,aAC9BC,SAAU,a,oBAwBd,WACE,MAQI5E,KAAKe,MAPP2C,EADF,EACEA,SACAjB,EAFF,EAEEA,MACA9B,EAHF,EAGEA,YACAgD,EAJF,EAIEA,QACAG,EALF,EAKEA,WACAF,EANF,EAMEA,UACAC,EAPF,EAOEA,SAGF,OACE,0BAAS1D,UAAWC,IAAOyE,UAA3B,UACE,cAAC,EAAD,CAAWtD,SAAUvB,KAAKgE,wBAAyBK,QAASX,IAE3DA,GACC,cAAC,EAAD,CACElB,KAAMkB,EACNjB,MAAOA,EACP9B,YAAaA,EACbL,QAASN,KAAK+D,cAIjBJ,GACC,cAAC,IAAD,CACEjC,KAAK,OACLoD,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,MAGZnB,GAAc,cAAC,EAAD,CAAQxD,QAASN,KAAKkE,WACpCN,GACC,cAAC,EAAD,CACElE,QAASM,KAAK+D,YACdtD,OAAQoD,EACRlD,YAAaA,W,GApGPuE,IAAMtE,WCJxBuE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFlG,SAASmG,eAAe,U,kBCR1BtG,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,sC","file":"static/js/main.6b4defc7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal2_Overlay__3DiSG\",\"Modal\":\"Modal2_Modal__2mY2K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1pY-e\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__14QWx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"phonebook\":\"App_phonebook__LtbV0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__12TaB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3wWGz\"};","import React, { Component } from \"react\";\r\nimport styles from \"./Modal2.module.css\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal2 extends Component {\r\n  static defaultProps = { pictureName: null, bigImg: null };\r\n\r\n  static propTypes = {\r\n    onClick: PropTypes.func,\r\n    onClose: PropTypes.func.isRequired,\r\n    pictureName: PropTypes.string,\r\n    bigImg: PropTypes.string,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.Modal}>\r\n          <img src={this.props.bigImg} alt={this.props.pictureName} />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    pictureName: \"\",\r\n  };\r\n\r\n  handlePictureNameChange = (e) => {\r\n    this.setState({\r\n      pictureName: e.currentTarget.value.toLowerCase(),\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.pictureName.trim() === \"\") {\r\n      alert(\"введите слово\");\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.pictureName);\r\n    this.setState({ pictureName: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n          <input\r\n            onChange={this.handlePictureNameChange}\r\n            className={styles.SearchFormInput}\r\n            value={this.state.pictureName}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\nexport default Searchbar;\r\n","import React, { Component } from \"react\";\nimport styles from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nclass ImageGalleryItem extends Component {\n  static propTypes = {\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n  };\n\n  render() {\n    const { largeImageURL, webformatURL, tags } = this.props;\n\n    return (\n      <li\n        className={styles.ImageGalleryItem}\n        onClick={() => this.props.onClick(largeImageURL)}\n      >\n        <img\n          src={webformatURL}\n          alt={tags}\n          className={styles.ImageGalleryItemImage}\n        />\n      </li>\n    );\n  }\n}\nexport default ImageGalleryItem;\n","import styles from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGallery = ({ hits, onClick, error }) => {\n  return (\n    <>\n      <ul className={styles.ImageGallery}>\n        {hits &&\n          hits.map((hit) => (\n            <ImageGalleryItem\n              key={hit.id}\n              onClick={onClick}\n              webformatURL={hit.webformatURL}\n              largeImageURL={hit.largeImageURL}\n              tags={hit.tags}\n            />\n          ))}\n      </ul>\n      {error && <p>{error.message}</p>}\n    </>\n  );\n};\n\nImageGallery.defaultProps = {\n  hits: [],\n  error: null,\n};\n\nImageGallery.propTypes = {\n  onClick: PropTypes.func.isRequired,\n\n  hits: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n    }).isRequired\n  ).isRequired,\n  error: PropTypes.string,\n};\n\nexport default ImageGallery;\n","import styles from \"./Button.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" className={styles.Button} onClick={() => onClick()}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\nexport default Button;\r\n","const API_KEY = \"22623319-52f49cc6bb6df63b12d71d4de\";\nconst BASE_URL = \"https://pixabay.com/api/?\";\n\nconst fetchPictures = (pictureName, page) => {\n  return fetch(\n    `${BASE_URL}q=${pictureName}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(\"there is no such a picture\"));\n  });\n};\n\nexport default fetchPictures;\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport styles from \"./App.module.css\";\nimport Modal2 from \"../Modal2/Modal2\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport fetchPictures from \"../../fetch/api-service\";\n\nclass App extends React.Component {\n  state = {\n    pictures: [],\n    error: null,\n    pictureName: \"\",\n    loading: false,\n    showModal: false,\n    largeImg: \"\",\n    page: 1,\n    showButton: false,\n  };\n\n  toggleModal = (largeImg) => {\n    this.setState({ largeImg: largeImg });\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { pictureName, page } = this.state;\n\n    if (pictureName !== prevState.pictureName || page !== prevState.page) {\n      this.setState({\n        loading: true,\n        picture: null,\n      });\n      fetchPictures(pictureName, page)\n        .then(({ hits }) => {\n          this.setState(({ pictures }) => {\n            return { pictures: [...pictures, ...hits] };\n          });\n        })\n        .then(this.setState({ showButton: true }))\n        .catch((error) => this.setState({ error }))\n        .finally(() => this.setState({ loading: false }));\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n\n  handlePictureNameSubmit = (pictureName) => {\n    this.reset();\n    this.setState({ pictureName });\n  };\n\n  reset = () => {\n    this.setState({ page: 1, pictures: [] });\n  };\n\n  loadMore = (e) => {\n    this.setState((prevState) => ({\n      page: prevState.page + 1,\n    }));\n    this.showButton();\n  };\n\n  showButton = () => {\n    this.setState(({ showButton }) => ({ showButton: !showButton }));\n  };\n\n  render() {\n    const {\n      pictures,\n      error,\n      pictureName,\n      loading,\n      showButton,\n      showModal,\n      largeImg,\n    } = this.state;\n\n    return (\n      <section className={styles.phonebook}>\n        <Searchbar onSubmit={this.handlePictureNameSubmit} picture={pictures} />\n\n        {pictures && (\n          <ImageGallery\n            hits={pictures}\n            error={error}\n            pictureName={pictureName}\n            onClick={this.toggleModal}\n          />\n        )}\n\n        {loading && (\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000} //3 secs\n          />\n        )}\n        {showButton && <Button onClick={this.loadMore} />}\n        {showModal && (\n          <Modal2\n            onClose={this.toggleModal}\n            bigImg={largeImg}\n            pictureName={pictureName}\n          />\n        )}\n      </section>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App/App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__cPqOp\",\"SearchForm\":\"Searchbar_SearchForm__1PbR7\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2rviG\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3O3Ed\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3PfQE\"};"],"sourceRoot":""}